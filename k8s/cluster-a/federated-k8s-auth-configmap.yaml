apiVersion: v1
kind: ConfigMap
metadata:
  name: federated-k8s-auth-config
  namespace: mariadb-auth-test
data:
  clusters.yaml: |
    clusters:
      # Local cluster - auto-detected
      - name: local
        auto: true
        # Maximum allowed token TTL in seconds (default: 3600 = 1 hour)
        # Tokens with longer TTL will be rejected
        max_token_ttl: 3600

      # External clusters can be added here
      # Example:
      # - name: production-us
      #   issuer: https://kubernetes.default.svc.cluster.local
      #   api_server: https://10.20.30.40:6443
      #   ca_cert_path: /etc/secrets/prod-us-ca.crt
      #   token_path: /etc/secrets/prod-us-token
      #   max_token_ttl: 7200  # 2 hours
